{% extends "backoffice/base.html" %}
{% block title %}{{ form.instance.pk|yesno:"Edit Venue,New Venue" }}{% endblock %}

{% block content %}
<div class="container py-4" style="max-width: 860px;">
  <nav aria-label="breadcrumb" class="mb-3">
    <ol class="breadcrumb mb-0">
      <li class="breadcrumb-item"><a href="{% url 'facilities:venue_list' %}">Venues</a></li>
      <li class="breadcrumb-item active" aria-current="page">
        {{ form.instance.pk|yesno:"Edit Venue,New Venue" }}
      </li>
    </ol>
  </nav>

  <div class="card shadow-sm">
    <div class="card-header fw-semibold">
      <i class="bi bi-building-add me-2"></i>{{ form.instance.pk|yesno:"Edit Venue,Create Venue" }}
    </div>
    <div class="card-body">
      <form method="post" novalidate>
        {% csrf_token %}
        {% if form.non_field_errors %}
          <div class="alert alert-danger small mb-3">{{ form.non_field_errors }}</div>
        {% endif %}

        <div class="mb-3">
          <label class="form-label" for="{{ form.name.id_for_label }}">Name <span class="text-danger">*</span></label>
          {{ form.name }}
          {% if form.name.errors %}
            <div class="invalid-feedback d-block">{{ form.name.errors|striptags }}</div>
          {% else %}
            <div class="form-text">Unique venue name (e.g., “Main Football Ground”).</div>
          {% endif %}
        </div>

        <div class="mb-3">
          <label class="form-label" for="{{ form.venue_type.id_for_label }}">Type</label>
          {{ form.venue_type }}
          {% if form.venue_type.errors %}
            <div class="invalid-feedback d-block">{{ form.venue_type.errors|striptags }}</div>
          {% else %}
            <div class="form-text">e.g., Football ground, Indoor court.</div>
          {% endif %}
        </div>

        <div class="row g-3">
          <div class="col-md-6">
            <label class="form-label" for="{{ form.capacity.id_for_label }}">Capacity</label>
            {{ form.capacity }}
            {% if form.capacity.errors %}
              <div class="invalid-feedback d-block">{{ form.capacity.errors|striptags }}</div>
            {% else %}
              <div class="form-text">Approximate headcount (optional).</div>
            {% endif %}
          </div>
          <div class="col-md-6">
            <label class="form-label" for="{{ form.location_note.id_for_label }}">Location note</label>
            {{ form.location_note }}
            {% if form.location_note.errors %}
              <div class="invalid-feedback d-block">{{ form.location_note.errors|striptags }}</div>
            {% else %}
              <div class="form-text">E.g., “Near Basketball Hall / Gate 3”.</div>
            {% endif %}
          </div>
        </div>

        <div class="d-flex gap-2 mt-4">
          <a href="{% url 'facilities:venue_list' %}" class="btn btn-outline-secondary">Cancel</a>
          <button type="submit" class="btn btn-primary">
            <i class="bi bi-check2-circle me-1"></i>{{ form.instance.pk|yesno:"Save changes,Create Venue" }}
          </button>
        </div>
      </form>
    </div>
    <div class="card-footer small text-muted">
      Use consistent naming so students can find venues easily.
    </div>
  </div>
</div>
{% endblock %}
