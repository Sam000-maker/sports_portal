{% extends "base.html" %}
{% block title %}Edit Profile{% endblock %}
{% block content %}
<div class="container my-5">
  <h2 class="mb-4">Update Profile</h2>
  {% if messages %}
    {% for msg in messages %}
      <div class="alert alert-{{ msg.tags }}">{{ msg }}</div>
    {% endfor %}
  {% endif %}
  <form method="post" enctype="multipart/form-data">
    {% csrf_token %}
    {% if form.instance.photo %}
      <div class="mb-3">
        <label class="form-label">Current Photo:</label><br>
        <img src="{{ form.instance.photo.url }}" alt="Profile Photo" class="rounded mb-2" style="max-width:150px;">
      </div>
    {% endif %}
    {% for field in form %}
      <div class="mb-3">
        {{ field.label_tag }}  
        {{ field }}  
        {% if field.help_text %}<small class="form-text text-muted">{{ field.help_text }}</small>{% endif %}
        {% for error in field.errors %}<div class="text-danger">{{ error }}</div>{% endfor %}
      </div>
    {% endfor %}
    <button type="submit" class="btn btn-success">Save Changes</button>
  </form>
</div>
{% endblock %}
